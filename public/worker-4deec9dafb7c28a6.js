self.addEventListener("push",n=>{var t;let e=JSON.parse((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.text())||"{}");null==n||n.waitUntil(self.registration.showNotification(e.title,{body:e.message,icon:"/icons/android-chrome-192x192.png"}))}),self.addEventListener("notificationclick",n=>{null==n||n.notification.close(),null==n||n.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){if(n.length>0){let t=n[0];for(let e=0;e<n.length;e++)n[e].focused&&(t=n[e]);return t.focus()}return self.clients.openWindow("/")}))});